process testCorrectedMet = {

# ---- input files ---------------------------------------


  include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/datasets/MIB_skimAtLeast2Lep_H160.cfi"
  #include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/datasets/MIB_skimAtLeast2Lep_tt4j_alpgen_152.cfi"
  
  untracked PSet maxEvents = {untracked int32 input = 100}
  untracked PSet options = { untracked bool wantSummary = true }


// --------------------------------------------------


  include "HiggsAnalysis/HiggsToWW2Leptons/data/HWWMetCorrector.cfi"
  include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFMetCorrector.cfi"


// --------------------------------------------------


  service = TFileService {
    string fileName = "testCorrectedMet.root"
  }


// --------------------------------------------------


  module histsOfficialMet = CandHistoAnalyzer 
    {
      InputTag src = muonCorrectedMET
      VPSet histograms = 
        {
          {
            untracked double min          =   0.0
            untracked double max          = 200.0 
            untracked int32 nbins         =   100
            untracked string name         = "official MET pt [GeV]"
            untracked string plotquantity = "pt"
            untracked string description  = "OffMet_%d_pt"
          },
          {
            untracked double min          =   0.0
            untracked double max          = 200.0 
            untracked int32 nbins         =   100
            untracked string name         = "official MET eta [GeV]"
            untracked string plotquantity = "eta"
            untracked string description  = "OffMet_%d_eta"
          }
        }
    }


// --------------------------------------------------


  module histsVBFMet = CandHistoAnalyzer 
    {
      InputTag src = muonCorrectedMETVBF
      VPSet histograms = 
        {
          {
            untracked double min          =   0.0
            untracked double max          = 200.0 
            untracked int32 nbins         =   100
            untracked string name         = "VBF MET pt [GeV]"
            untracked string plotquantity = "pt"
            untracked string description  = "VBFMet_%d_pt"
          },
          {
            untracked double min          =   0.0
            untracked double max          = 200.0 
            untracked int32 nbins         =   100
            untracked string name         = "VBF MET eta [GeV]"
            untracked string plotquantity = "eta"
            untracked string description  = "VBFMet_%d_eta"
          }
        }
    }


// --------------------------------------------------


  path analysis = {muonCorrectedMET, muonCorrectedMETVBF}
  endpath plotting = { histsOfficialMet, histsVBFMet}

} //PG testCorrectedMet