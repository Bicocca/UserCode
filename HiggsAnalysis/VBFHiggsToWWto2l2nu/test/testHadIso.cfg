process PGtestHadIso = {

include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
include "PhysicsTools/HepMCCandAlgos/data/genCandidates.cfi"
include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidatesFast.cfi"
include "PhysicsTools/RecoCandAlgos/data/allTracks.cfi"
include "Configuration/EventContent/data/EventContent.cff"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/allEleIds.cfi"

# ---- input file ---------------------------------------

include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/datasets/MIB_skimAtLeast2Lep_H160.cfi"

untracked PSet maxEvents = {untracked int32 input = 100}
untracked PSet options = { untracked bool wantSummary = true }


# ---- filters --------------------------------------


include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/messagesForSkimming.cfi"
//include "HiggsAnalysis/HiggsToWW2Leptons/data/HWWMetCorrector.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFMetCorrector.cfi"

include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFJetCleaner.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFJetEtaPtMinSelector.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFJetTagger.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFProcessFilter.cfi"

include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFEleIsolation.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFEleHadIsolation.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFEleNumFilter.cfi"
replace eleNumFiltering.GSFInputTag = refEleIsolation

include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFMCProcessFilter.cfi"
//include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFMCChannelFilter.cfi"
module MCeeChannel = channelSelector from "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFMCChannelFilter.cfi"
replace MCeeChannel.channel = 2


  # ---- analysis paths --------------------------------------

  path filtering = {my_VBFMCProcessFilter & MCeeChannel &
                  refEleIsolation & refEleHadIsolation  
   }


} # process PGtestHadIso
