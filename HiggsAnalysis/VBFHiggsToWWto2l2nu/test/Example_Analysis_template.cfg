process ExampleAnalysis = {


# ---- input files ---------------------------------------


source = PoolSource 
  { 
    untracked vstring fileNames = 
      {
        FILELIST
      }
  }


untracked PSet maxEvents = {untracked int32 input = -1}
untracked PSet options = { untracked bool wantSummary = true }


# ---- messages --------------------------------------


 service = MessageLogger {
    untracked vstring destinations = { "OUTPUTREPORT","OUTPUTLOG" }
    untracked vstring categories = { "FwkSummary" }
    untracked PSet OUTPUTLOG = 
      { 
        untracked string threshold = "WARNING"
        untracked PSet WARNING = { untracked int32 limit = 100 }
        untracked PSet ERROR = { untracked int32 limit = 100 }
      }
    untracked PSet OUTPUTREPORT = 
      { 
        untracked PSet INFO = { untracked int32 limit = 0 }
        untracked PSet WARNING = { untracked int32 limit = 0 }
        untracked PSet ERROR = { untracked int32 limit = 0 }
        untracked PSet FwkSummary = { untracked int32 limit = 10000000 }
      }

  }


# ---- VBF HWW->2l2n analysis includes --------------------------------------


//include "HiggsAnalysis/HiggsToWW2Leptons/data/HWWMetCorrector.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFMetCorrector.cfi"

include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFJetCleaner.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFJetEtaPtMinSelector.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFJetTagger.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFProcessFilter.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFJetVetoFilter.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFCentralJetVetoFilter.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFTrackCountVetoFilter.cfi"

include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFElePtAsymmFilter.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFEleIsolation.cfi"
include "HiggsAnalysis/VBFHiggsToWWto2l2nu/data/VBFEleNumFilter.cfi"
replace eleNumFiltering.GSFInputTag = refEleIsolation


# ---- minimum MET --------------------------------------


module METminSelector = EtMinMETSelector
{
  InputTag src = muonCorrectedMETVBF
  double etMin = 20 #GeV
}


# ---- the trivial reader --------------------------------------


module trivialReader = VBFTrivialAnalysis
{
  InputTag jetTagsInputTag = tagJets:tagJets
  InputTag GSFInputTag  = refResolver
  InputTag eleIDInputTag  = electronId
  InputTag muInputTag = muons
  InputTag metInputTag = met
}


# ---- analysis paths --------------------------------------


path analysis = {
//                  my_VBFMCProcessFilter &
                  muonCorrectedMETVBF & METminSelector &
                  jetCleaner & jetUEPU & tagJets & tagFilter &
//                  vbfJetVetoFiltering &
//                  vbfCentralJetVetoFiltering &
                  vbfTrackCountVetoFiltering &
                  elePtAsymmFiltering & refEleIsolation & eleNumFiltering
//                  trivialReader
                }

} # process ExampleAnalysis
