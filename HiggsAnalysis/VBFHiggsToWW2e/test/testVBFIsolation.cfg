process testVBFIsolation = {

#  include "HiggsAnalysis/VBFHiggsToWW2e/data/datasets/MIB_skim_H160.cfi"
#  include "HiggsAnalysis/VBFHiggsToWW2e/data/datasets/CASTOR_outSkim_HWW_160.cfi"
  include "HiggsAnalysis/VBFHiggsToWW2e/data/datasets/CASTOR_outSkim_HWW_130.cfi"
#  include "HiggsAnalysis/VBFHiggsToWW2e/data/datasets/CASTOR_skimAtLeast2Lep_WW_incl.cfi"
#  include "HiggsAnalysis/VBFHiggsToWW2e/data/datasets/CASTOR_outSkim_Wenj_30_50.cfi"
  untracked PSet maxEvents = {untracked int32 input = -1}
  untracked PSet options = { untracked bool wantSummary = true }

  include "HiggsAnalysis/VBFHiggsToWW2e/data/VBFEleIsolation.cfi"

  module refEleIsolationWO = refEleIsolation from "HiggsAnalysis/VBFHiggsToWW2e/data/VBFEleIsolation.cfi"
  replace refEleIsolationWO.otherVetoRadius = 0.0
  
  service = TFileService 
    { 
       string fileName = "testVBFIsolation.root"
    }

  
  module my_VBFMCProcessFilter = VBFMCProcessFilter
    {
      untracked string moduleLabel = "source"
    }


  module electronsFiltering = VBFElePtFilter
    {
      InputTag GSFInputTag  = refResolver
      double firstPtMin = 30
      double secondPtMin = 20
      bool testCharge = false
    }


  module testIsol = VBFEleIsolationStudy
    {
      InputTag GSFInputTag = pixelMatchGsfElectrons
      InputTag AmbRefInputTag = refResolver
//      InputTag OLDIsoInputTag = reftkisolation
      InputTag OLDIsoInputTag = refEleIsolationWO
      InputTag NEWIsoInputTag = refEleIsolation  
      InputTag trackInputTag = ctfWithMaterialTracks
      double coneRadius = 0.4
      double vetoRadius = 0.015
      double otherVetoRadius = 0.015
      double ptMin = 1.5
      double lipMax = 0.1
      double tkIsoCut = 0.1
    }

  path analysis = {
      my_VBFMCProcessFilter, 
      electronsFiltering, 
      refEleIsolation, refEleIsolationWO, testIsol
    }
  
} // testVBFIsolation