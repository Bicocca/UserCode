process VBFread = {

include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidates.cfi"
include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"


# ---- keep the logging output to a nice level --------------------------


service = MessageLogger {}


# ---- keep the logging output to a nice level --------------------------


  include "EgammaAnalysis/ElectronIDProducers/data/electronId.cfi"
  replace electronId.electronProducer = "hadisolation"
  module elid = EleId {
    string electronIDAssocProducer = "electronId"
    InputTag src = hadisolation
    bool filter = true
  }


# ---- looking the different types  -------------------------------


module my_VBFReadEvent  = VBFReadEvent  {

  InputTag metInputTag = met
  InputTag genMetInputTag  = genMet
  InputTag jetInputTag  = iterativeCone5CaloJets
  InputTag genJetInputTag  = iterativeCone5GenJets
  InputTag GSFInputTag  = pixelMatchGsfElectrons
  #InputTag eleIDInputTag  = 
  InputTag MCtruthInputTag  =  genParticleCandidates #source
  InputTag MC = source
  InputTag muInputTag = globalMuons
  }

  
# ---- input files ----------------------------------------------


source = PoolSource 
{ 
      untracked vstring fileNames = {"file:///tmp/tancini/VBFsignal.root"} 
}


  
# ---- general settings ----------------------------------------------


untracked PSet maxEvents = {untracked int32 input = -1}

  
# ---- saving the ouptut --------------------------------------


  module saving = PoolOutputModule
{
      untracked string fileName = "/tmp/tancini/VBFreaded.root"
}

  
# ---- fraw the generated particle tree --------------------------------------


module printTree = ParticleTreeDrawer
{ 
     InputTag src= genParticleCandidates 
}

  
# ---- fraw the decay particle tree --------------------------------------


module printDecay = ParticleDecayDrawer {
    InputTag src = genParticles
#    untracked bool printP4 = true
#    untracked bool printPtEtaPhi = true
#    untracked vint32 status = { 3 }
  }


# ---- analysis paths ----------------------------------------------------------


  path filtering = {my_VBFReadEvent }
  endpath save = {saving}

}
